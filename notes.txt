sample audio file url https://filebin.net/wpnea2swzr8l4f6j/sample.mp3
KOST radio playlist https://stream.revma.ihrhls.com/zc193/hls.m3u8
KOST radio https://kost1035.iheart.com/

Howler.js https://www.crowdbotics.com/blog/build-your-own-radio-streaming-app-with-howler-js


TODO
If matched fingerprints points to unknown kind, and new segment is of particular kind (for sure), remove existing match, and insert the new segment.
It requires functionality of segment/fingerprints removal.
To remove segment, first remove fingerprint, so new request won't match, then remove metadata and audio, then clean matches.

TODO
Check if metadata matches for new segment and matches. If it differs, what should feeder do?

TODO
Rework feeding. Analyse new segment.

TODO
Validation procedure.
Establish validation procedure where a kind of a segment goes through stages: initial, confirmed(N), unclear(N), final.
It should get N confirmations of the same kind. If kind changes, it drops to Confirmed(1).
N=2 should be enough to start.
validation request may end up with "Mixed/Unclear" kind, then it goes to Unclear(1). After N unclear, the segment is removed as useless.

Only validated segments should go to training. But that is rather useless as it would be impractical to validate hundred thousands of segments.

TODO
Split new segments into 4sec overlapping chunks, then feed it to the backend. Worth to clean all data before.
It would help to validate segments because the chance of mixed kind is lower.
Also it is easier to listen and choose a kind of 4sec sample than 10 seconds.

TODO
Move feeding to the backend, I see no value in keeping it separate. The backend can serve it well with async operations.
It would also help to make status page for feeding.

TODO
Drop last segment of the content block since it can contain another content.
Drop the first segment of the content block since it can yet contain previous content.
Should it drop two neighbour segments?
So feeder to should keep the segment until next one comes.

TODO
Drop segments if content type cant be validated. Or, keep them separate with no fingerprints, so I can look later for tag patterns.

TODO
Make Docker container with EmySound + MongoDB + Feeder (backend).

TODO

Some segments are marked as Talk/Unknown while they seems to be Music. They have Artist/Title tags but comment section looks like Talk or somethign else. I need to listen segments to actually understand what they are.
4a11cbba-d146-454a-92db-5e04da558600 / Talk / Stevie Nicks / EDGE OF SEVENTEEN {Just Like The White Winged Dove}
a8845a46-357e-454e-952c-c38f9b14607b / Unknown / Stevie Nicks / EDGE OF SEVENTEEN {Just Like The White Winged Dove}
0f16ad90-257d-4d4e-be77-1e41d28e9ef4 / Talk / Stevie Nicks / EDGE OF SEVENTEEN {Just Like The White Winged Dove}


TODO
Some segments contains music but tagged as radio talk :( I see no way to overcome it yet. It means that big part of "talks" are poisoned. Maybe I should just drop them until i find the way to classify it correctly.

###### UNESCAPED
title="KOST 103.5",artist="LA's Feel Good Station",url="song_spot="T" MediaBaseId="0" itunesTrackId="0" amgTrackId="0" amgArtistId="0" TAID="0" TPID="0" cartcutId="0" amgArtworkURL="" length="00:00:00" unsID="0" spotInstanceId="-1""
#### ARTIST Justin Timberlake ### Some("LA's Feel Good Station")
#### TITLE SEXYBACK ### Some("KOST 103.5")

Track has artist/title tags with real values.So, I can drop segments if values differs.
Or I can look up an artist to see if it is music.

TODO

I need functionality to reassess segments with new tag guessers.
